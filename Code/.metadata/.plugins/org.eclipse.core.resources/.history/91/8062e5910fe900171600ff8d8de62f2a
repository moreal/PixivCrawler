package me.moreal.main;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.Reader;
import java.net.MalformedURLException;
import java.net.Socket;
import java.net.URL;
import java.net.UnknownHostException;

import javax.net.ssl.HttpsURLConnection;
import javax.net.ssl.SSLSocket;
import javax.net.ssl.SSLSocketFactory;

public class Main {
	public static void main(String args[])
	{
		PixivParser parser = new PixivParser("www.pixiv.net", 137);
		parser.start();
		/*
		try {
			HttpsURLConnection conn = (HttpsURLConnection) new URL("https://www.pixiv.net/member_illust.php?mode=medium&illust_id=137").openConnection();
			BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream()));
			String str;
			while((str = br.readLine()) != null)
				System.out.println(str);
		} catch (MalformedURLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}*/
		
		try {
			SSLSocket s = (SSLSocket) SSLSocketFactory.getDefault().createSocket("www.pixiv.net",80);
			s.connect(new Socket("www.pixiv.net",80).getRemoteSocketAddress(), 200);
			s.getOutputStream().write("GET / HTTP/1.1\r\nHost: www.pixiv.net\r\n\r\n".getBytes());
			BufferedReader br = new BufferedReader(new InputStreamReader(s.getInputStream()));
			String str;
			while((str = br.readLine()) != null)
				System.out.println(str);
		} catch (UnknownHostException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
}
